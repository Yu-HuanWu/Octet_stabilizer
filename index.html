<!DOCTYPE html>
<!--
	My highest is 36, can you beat my score? 
-->
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta property="og:title" content="Octet Stabilizer" />
    <meta property="og:image" content="octet.png" />
    <meta property="og:description" content="A simple chemistry game that demonstrate the octet rules." />
    <meta property="og:url" content="https://yu-huanwu.github.io/Octet_stabilizer/" />
    <link rel="stylesheet" href="./dist/main.css" />
    <link rel="shortcut icon" href="src/assets/favicon.ico" type="image/x-icon" />
    <title>Octet Stabilizer</title>
</head>

<body>
    <h1>Octet Stabilizer</h1>
    <br>
    <div class="compound" id="compound">
        <h2 class="blank">Hint: Octet means<br> 8 Valence Electrons</h2>
        <h2 class="LiFActive">You've just made <br> Lithium Fluoride!</h2>
        <h2 class="BeOActive">You've just made <br> Beryllium Oxide!</h2>
        <h2 class="BNActive">You've just made <br> Boron Nitride!</h2>
        <h2 class="FFActive">You've just made <br> Fluorine Gas (F<sub>2</sub>)ðŸ’€!</h2>
        <h2 class="COActive">You've just made <br> Carbon Monoxide (CO)ðŸ’€!</h2>
        <h2 class="OOActive">You've just made <br> Oxygen Gas (O<sub>2</sub>)!</h2>
        <h2 class="NNActive">You've just made <br> Nitrogen Gas (N<sub>2</sub>)!</h2>
    </div>
    <div class="start hidden">
        <p class="begin">Begin</p>
    </div>
    
    <div class="timeChange">
        <p class="minusTime hidden">Poisonous Gas!<br> -3 seconds</p>
        <p class="plusTime hidden">Oxygen gas<br> +5 seconds</p>
    </div>

    <img class="gameover-bg hidden" src= "src/assets/Metal_Plate.png" alt="metal plate" width= "400" height= "300">
    <div class="gameover hidden">
        <h3 class="good-bad"></h3>
        <br>
        <p class="gameover-msg"></p>
        <br>
        <p class="restart">Restart</p>
        
    </div>
    
    <img id="bg" src="src/assets/background.gif" alt="background">
    <img class="instruction hidden" src="src/assets/InstructionMenu.gif" alt="Instruction menu">
    <canvas id="octet-game"></canvas>

    <script type="application/javascript" src="vendor/keymaster.js"></script>
	<!-- Mobile Controls Overlay -->
	<div id="mobile-controls" class="mobile-controls">
	    <button class="mc-btn" data-key="w">â–²</button>
	    <div>
	        <button class="mc-btn" data-key="a">â—€</button>
	        <button class="mc-btn" data-key="s">â–¼</button>
	        <button class="mc-btn" data-key="d">â–¶</button>
	    </div>
	    <button class="mc-btn mc-space" data-key="space">âŽµ</button>
	</div>
	
	<style>
	.mobile-controls {
	    position: fixed;
	    bottom: 20px;
	    left: 50%;
	    transform: translateX(-50%);
	    z-index: 9000;
	    display: none;
	    flex-direction: column;
	    align-items: center;
	    gap: 10px;
	}
	.mobile-controls > div {
	    display: flex;
	    gap: 10px;
	}
	.mc-btn {
	    width: 60px;
	    height: 60px;
	    font-size: 2em;
	    border-radius: 50%;
	    border: none;
	    background: #f0f0f0cc;
	    box-shadow: 0 2px 8px #0002;
	    margin: 2px;
	    touch-action: manipulation;
	}
	.mc-space {
	    width: 130px;
	    border-radius: 30px;
	    font-size: 1.4em;
	}
	@media (max-width: 768px) {
	    .mobile-controls { display: flex; }
	}
	</style>
	
	<script>
	document.addEventListener('DOMContentLoaded', function () {
	    // Hide controls on desktop
	    function isMobile() {
	        return window.matchMedia("(max-width: 768px)").matches;
	    }
	    const mobileControls = document.getElementById('mobile-controls');
	    if (isMobile()) mobileControls.style.display = 'flex';
	    window.addEventListener('resize', () => {
	        mobileControls.style.display = isMobile() ? 'flex' : 'none';
	    });
	
	    // Simulate keydown events for game controls
	    mobileControls.querySelectorAll('.mc-btn').forEach(btn => {
	        btn.addEventListener('touchstart', function (e) {
	            e.preventDefault();
	            let key = btn.dataset.key;
	            let event;
	            if (key === 'space') {
	                event = new KeyboardEvent('keydown', { key: ' ', code: 'Space', keyCode: 32, which: 32 });
	            } else {
	                event = new KeyboardEvent('keydown', { key: key, code: key.toUpperCase(), keyCode: key.charCodeAt(0), which: key.charCodeAt(0) });
	            }
	            document.dispatchEvent(event);
	        });
	    });
	});
	</script>
    <script src="./dist/main.js"></script>
    
</body>
<footer>
    <div>
        <a href="https://www.linkedin.com/in/yu-huan-wu" target="_blank" title= "My LinkedIn. If you want to hire me just holler at me my dude">
            <img class="hoverfooter" src="src/assets/linkedin.gif" alt="LinkedIn bouncing gif made by Yu-Huan Wu" height="70">
        </a>
        <p>Made by Mr. Wu <br><br> 2021</p>
        <a href="https://github.com/Yu-HuanWu" target="_blank" title= "My GitHub link">
            <img class="hoverfooter" src="src/assets/githublogo.gif" alt="GitHub waving gif made by Yu-Huan Wu" height="70">
        </a>
    </div>
</footer>

</html>
